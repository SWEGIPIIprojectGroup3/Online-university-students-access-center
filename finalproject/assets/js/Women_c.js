const data= [
    {
        id : 0,
        img : 'images/IMG_20211218_131038_438.jpg',
        name : 'vitlese ---size M & L',
        price : 500,
        save : 25,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 1,
        img : 'images/IMG_20211218_131210_241.jpg',
        name : 'short shirt--- Size Available-S',
        price : 500,
        save : 50,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 2,
        img : 'images/IMG_20211214_084458_695.jpg',
        name : 'Crop Top Size Available-S& M',
        price : 600,
        save : 30,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 3,
        img : 'images/IMG_20211218_131628_927.jpg',
        name : 'vitlese -size S& M',
        price : 450,
        save : 35,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 4,
        img : 'images/IMG_20211218_131241_654.jpg',
        name : 'jacket --- size Available-M',
        price : 900,
        save : 15,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 5,
        img : 'images/IMG_20211218_131148_011.jpg',
        name : 'strechable jeans - size-M',
        price : 800,
        save : 25,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 6,
        img : 'images/IMG_20211218_131603_674.jpg',
        name : 'hollister california jeans --- Size-M,L',
        price : 950,
        save : 20,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 7,
        img : 'images/IMG_20211218_131528_425.jpg',
        name : 'jeans --- size Available-M ',
        price : 800,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 8,
        img : 'images/IMG_20211218_131300_672.jpg',
        name : 'T-shirt dress ---- size Available-M',
        price : 850,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 9,
        img : 'images/IMG_20211218_131123_836.jpg',
        name : 'longsleeve croptop - size-M',
        price : 600,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 10,
        img : 'images/IMG_20211214_084627_851.jpg',
        name : 'high waist pant',
        price : 800,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 11,
        img : 'images/IMG_20211218_131503_219.jpg',
        name : 'T-shirt ',
        price : 450,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 12,
        img : 'images/IMG_20211212_110010_447.jpg',
        name : 'adidas',
        price : 1500,
        save : 25,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 13,
        img : 'images/IMG_20211212_110020_952.jpg',
        name : 'Vans',
        price : 1200,
        save : 50,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 14,
        img : 'images/IMG_20211212_110051_742.jpg',
        name : 'Airforce',
        price : 1800,
        save : 30,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 15,
        img : 'images/IMG_20211212_110117_371.jpg',
        name : 'Puma',
        price : 1250,
        save : 35,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 16,
        img : 'images/IMG_20211212_110303_006.jpg',
        name : 'Fila shoe',
        price : 1500,
        save : 15,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 17,
        img : 'images/IMG_20211214_084557_578.jpg',
        name : 'Chelsea Boots',
        price : 2000,
        save : 25,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 18,
        img : 'images/IMG_20211228_100333_803.jpg',
        name : 'Louis Vuitton',
        price : 1850,
        save : 20,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 19,
        img : 'images/5f54c343236854573b9678146c2a1c7a0c24a532.jpg',
        name : 'Nike',
        price : 1500,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 20,
        img : 'images/IMG_20211228_100011_097.jpg',
        name : 'Lounoutin',
        price : 1800,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 21,
        img : 'images/IMG_20211228_095828_494.jpg',
        name : 'Nike',
        price : 1700,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 22,
        img : 'images/IMG_20211228_095809_450.jpg',
        name : 'Balenciago',
        price : 1800,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 23,
        img : 'images/IMG_20211228_095745_324.jpg',
        name : 'Nike zoom',
        price : 2000,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 24,
        img : 'images/IMG_20211228_160330_003.jpg',
        name : 'Dove soap',
        price : 55,
        save : 5,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 25,
        img : 'images/IMG_20211228_160441_005.jpg',
        name : 'Dove shampoo and conditionaire',
        price : 900,
        save : 50,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 26,
        img : 'images/IMG_20211228_160559_102.jpg',
        name : 'Victoria secret splash',
        price : 700,
        save : 30,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 27,
        img : 'images/IMG_20211228_160333_281.jpg',
        name : 'Irish spring soap',
        price : 65,
        save : 3,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 28,
        img : 'images/IMG_20211228_160627_764.jpg',
        name : 'Cosmo Body lotion',
        price : 250,
        save : 15,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 29,
        img : 'images/6Y7A0060.jpg',
        name : 'Tresemme shampoo',
        price : 700,
        save : 25,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 30,
        img : 'images/6Y7A6521.jpg',
        name : 'signal toothpaste',
        price : 30,
        save : 2,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 32,
        img : 'images/6Y7A6538.jpg',
        name : 'Lafresh lemon scrub soap',
        price : 110,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 33,
        img : 'images/download.jpeg',
        name : 'lifebouy soap',
        price : 12,
        save : 1,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 9,
        img : 'images/images (22).jpeg',
        name : 'Vaseline lotion',
        price : 200,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 34,
        img : 'images/IMG_20211212_101104_154.jpg',
        name : 'petroleum jelly',
        price : 100,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	{
        id : 35,
        img : 'images/IMG_20211212_101114_232.jpg',
        name : 'Victoria secret flavoured lip gloss',
        price : 350,
        save : 10,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
	
	
];
function displayItem1(){
	
	var items = document.getElementsByClassName("item-hidden1");
	var change1=document.getElementById("item-btn1");
	for (i = 0; i < items.length; i++) {
		if(items[i].style.display=="none"){
			items[i].style.display = "block";
			change1.innerHTML="View less";
		}
		else{
			items[i].style.display = "none";
			change1.innerHTML="View All";
		}
			
		}
	}
function displayItem2(){
	
        var items = document.getElementsByClassName("item-hidden2");
        var change1=document.getElementById("item-btn2");
        for (i = 0; i < items.length; i++) {
            if(items[i].style.display=="none"){
                items[i].style.display = "block";
                change1.innerHTML="View less";
            }
            else{
                items[i].style.display = "none";
                change1.innerHTML="View All";
            }
        } 
    }
function displayItem3(){
	    var items = document.getElementsByClassName("item-hidden3");
        var change1=document.getElementById("item-btn3");
        for (i = 0; i < items.length; i++) {
            if(items[i].style.display=="none"){
                items[i].style.display = "block";
                change1.innerHTML="View less";
             }
        else{
            items[i].style.display = "none";
            change1.innerHTML="View All";
         }
        }
     }
let cartList=[]; //array to store cart lists

var i;
var detail =document.getElementsByClassName('card-item');
var detailsImg = document.getElementById('details-img')
var detailTitle = document.getElementById('detail-title')
var detailPrice = document.getElementById('detail-price')
var youSave = document.getElementById('you-save');
var detailsPage = document.getElementById('details-page');
var back = document.getElementById('buy')
back.addEventListener('click',refreshPage)
var addToCarts = document.querySelectorAll('#add-to-cart')
var cart = document.getElementById('cart');

// click event to display cart page
cart.addEventListener('click',displayCart)

var carts = document.getElementById('carts');

//click events to add items to cart from details page
carts.addEventListener('click',()=>addToCart(getId))

var home = document.getElementById('logo');

//click event to hide cart page and return to home page
home.addEventListener('click',hideCart);

//events on dynamically created element to remove items from list
document.addEventListener('click',function (e){
    if(e.target.id=='remove'){
        var itemId = e.target.parentNode.id
        removeFromCart(itemId)
    }
})


//click event to display details page
for(i=0;i<data.length;i++){
    detail[i].addEventListener('click',handleDetail)
}

var getId;

//click events to add items to cart from home page cart icon
addToCarts.forEach(val=>val.addEventListener('click',()=>addToCart(val.parentNode.id)));

// details function
function handleDetail(e){
    detailsPage.style.display = 'block'
    getId= this.parentNode.id;
    detailsImg.src= data[getId].img;
    detailTitle.innerHTML=   data[getId].name;
    detailPrice.innerHTML= 'Price : $ ' +data[getId].price;
    youSave.innerHTML= 'You save : ($ ' + data[getId].save + ')';
}

// add item to the cart
function addToCart(id) {
    if(!data[id].itemInCart){
        cartList= [...cartList,data[id]];
        addItem()
        
        alert('item added to your cart')

    }
    else{
        alert('your item is already there')
    }
    data[id].itemInCart= true
}

//back to main page
function refreshPage(){
    detailsPage.style.display = 'none'
}

// hide your cart page
function hideCart(){
    document.getElementById('main').style.display= "block";
    document.getElementById('cart-container').style.display= "none";
}

//display your cart page
function displayCart(){
    document.getElementById('main').style.display= "none";
    document.getElementById('details-page').style.display= "none";
    document.getElementById('cart-container').style.display= "block";
    if(cartList.length==0){
        document.getElementById('cart-with-items').style.display= "none";
        document.getElementById('empty-cart').style.display= "block";
    }
    else{
        document.getElementById('empty-cart').style.display= "none";
        document.getElementById('cart-with-items').style.display= "block";
        document.getElementById('order').style.display= "block";
    }
}

var totalAmount;
var totalItems;
var totalSaving;

//add item to the cart
function addItem(){
    totalAmount=0;
    totalItems = 0;
    totalSaving=0
    var clrNode=document.getElementById('item-body');
        clrNode.innerHTML= '';
        console.log(clrNode.childNodes)
        cartList.map((cart)=>
        {
            var cartCont = document.getElementById('item-body');
            totalAmount = totalAmount + cart.price;
            totalSaving = totalSaving + cart.save;
            totalItems = totalItems + 1;

            var tempCart = document.createElement('div')
            tempCart.setAttribute('class','cart-list');
            tempCart.setAttribute('id',cart.id);

            var listImg = document.createElement('img');
            listImg.setAttribute('id','list-img');
            listImg.src = cart.img
            tempCart.appendChild(listImg)

            var listName = document.createElement('h3');
            listName.setAttribute('class','list-name');
            listName.innerHTML = cart.name;
            tempCart.appendChild(listName)

            var listPay = document.createElement('h3');
            listPay.setAttribute('class','pay');
            listPay.innerHTML = cart.price;
            tempCart.appendChild(listPay);

            var listQuantity = document.createElement('h3');
            listQuantity.setAttribute('class','quantity');
            listQuantity.innerHTML = '1';
            tempCart.appendChild(listQuantity);

            var listTrash = document.createElement('i');
            listTrash.setAttribute('class','fa fa-trash ');
            listTrash.setAttribute('id','remove');
            tempCart.appendChild(listTrash);

            cartCont.appendChild(tempCart)
            
        })
        document.getElementById('total-amount').innerHTML = 'Total Amount : $ ' + totalAmount;
        document.getElementById('total-items').innerHTML = 'Total Items : ' + totalItems;
        document.getElementById('you-saved').innerHTML = 'You Saved : $ ' + totalSaving;
        document.getElementById('total').style.display= "block";
}

//remove item from the cart
function removeFromCart(itemId){
    data[itemId].itemInCart = false
    cartList = cartList.filter((list)=>list.id!=itemId);
    addItem()
    if(cartList.length==0){
        document.getElementById('cart-with-items').style.display= "none";
        document.getElementById('empty-cart').style.display= "block";
    }
}
function successfull(itemId){
	alert("Your order has been submitted successfully!!");
}